{"version":3,"sources":["errors/index.js","actions/common.js","models/hello.js","utils.js","actions/utils.js","components/Loading.jsx","components/ResponsiveScreen.jsx","components/TextInput.jsx","actions/login.js","containers/Login/Login.jsx","containers/Login/Chooseaccount.jsx","components/ClientDisplayName.jsx","components/ScopesList.jsx","containers/Login/Consent.jsx","containers/Login/Loginscreen.jsx"],"names":["ERROR_LOGIN_VALIDATE_MISSINGUSERNAME","ERROR_LOGIN_VALIDATE_MISSINGPASSWORD","ERROR_LOGIN_FAILED","ERROR_HTTP_NETWORK_ERROR","ERROR_HTTP_UNEXPECTED_RESPONSE_STATUS","ERROR_HTTP_UNEXPECTED_RESPONSE_STATE","ExtendedError","message","values","undefined","Error","captureStackTrace","ErrorMessage","withTranslation","props","error","t","id","messageDescriptor","Object","assign","defaultMessage","receiveError","type","types","resetHello","receiveHello","hello","success","username","displayName","state","executeHello","dispatch","getState","common","flow","query","r","withClientRequestState","newHelloRequest","axios","post","headers","then","response","status","data","Promise","resolve","catch","handleAxiosError","retryHello","executeLogoff","prompt","selectedFlow","scope","client_id","redirect_uri","id_token_hint","max_age","claims_scope","obj","Math","random","toString","substring","request","Loading","this","Grid","item","align","renderIf","LinearProgress","className","Typography","variant","gutterBottom","color","Button","autoFocus","onClick","event","retry","preventDefault","React","PureComponent","connect","ResponsiveScreen","classes","withoutLogo","withoutPadding","loading","children","other","logo","src","process","alt","content","DialogContent","container","justifyContent","alignItems","direction","spacing","classNames","root","wrapper","Trans","i18nKey","defaultProps","withStyles","theme","display","flex","position","width","actions","marginTop","paddingLeft","paddingRight","maxWidth","TextInput","label","extraClassName","htmlFor","placeholder","ModeLogonUsernamePassword","receiveValidateLogon","errors","requestLogon","password","receiveLogon","logon","requestConsent","allow","receiveConsent","executeConsent","ref","flow_nonce","nonce","http","executeLogonIfFormValid","isSignedIn","reject","keys","length","validateUsernamePassword","mode","params","push","executeLogon","advanceLogonFlow","history","done","extraQuery","q","details","next","replace","location","search","hash","continue_uri","window","queryString","stringify","continue","indexOf","document","origin","target","action","login","branding","buttonProgress","green","top","left","marginLeft","subHeader","marginBottom","textAlign","useTranslation","hasError","errorMessage","extraPropsUsername","extraPropsPassword","useEffect","handleChange","name","value","updateInput","handleNextClick","useMemo","usernameHintText","onSubmit","autoCapitalize","spellCheck","onChange","autoComplete","margin","component","disabled","CircularProgress","size","Chooseaccount","List","disablePadding","accountList","ListItem","button","disableGutters","accountListItem","ListItemAvatar","Avatar","substr","ListItemText","primary","logoff","overflowY","marginRight","ClientDisplayName","client","rest","display_name","row","paddingTop","paddingBottom","scopes","meta","mapping","definitions","rows","known","definition","description","dense","Checkbox","checked","disableRipple","Tooltip","Consent","filter","join","konnect","placement","title","redirectURI","scopesList","DialogActions","REQUEST_CONSENT_ALLOW","minWidth","Loginscreen","path","exact","Login","RedirectWithQuery"],"mappings":"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","file":"static/js/containers-login.12d6de0c.chunk.js","sourcesContent":["import { withTranslation } from 'react-i18next';\n\nexport const ERROR_LOGIN_VALIDATE_MISSINGUSERNAME = 'konnect.error.login.validate.missingUsername';\nexport const ERROR_LOGIN_VALIDATE_MISSINGPASSWORD = 'konnect.error.login.validate.missingPassword';\nexport const ERROR_LOGIN_FAILED = 'konnect.error.login.failed';\nexport const ERROR_HTTP_NETWORK_ERROR = 'konnect.error.http.networkError';\nexport const ERROR_HTTP_UNEXPECTED_RESPONSE_STATUS = 'konnect.error.http.unexpectedResponseStatus';\nexport const ERROR_HTTP_UNEXPECTED_RESPONSE_STATE = 'konnect.error.http.unexpectedResponseState';\n\n// Error with values.\nexport class ExtendedError extends Error {\n  values = undefined;\n\n  constructor(message, values) {\n    super(message);\n    if (Error.captureStackTrace !== undefined) {\n      Error.captureStackTrace(this, ExtendedError);\n    }\n    this.values = values;\n  }\n}\n\n// Component to translate error text with values.\nfunction ErrorMessageComponent(props) {\n  const { error, t, values } = props;\n\n  if (!error) {\n    return null;\n  }\n\n  const id = error.id ? error.id : error.message;\n  const messageDescriptor = Object.assign({}, {\n    id,\n    defaultMessage: error.id ? error.message : undefined,\n    values: {\n      ...error.values,\n      ...values,\n    },\n  });\n\n  switch (messageDescriptor.id) {\n    case ERROR_LOGIN_VALIDATE_MISSINGUSERNAME:\n      return t(\"konnect.error.login.validate.missingUsername\", \"Enter a valid value.\", messageDescriptor.values);\n    case ERROR_LOGIN_VALIDATE_MISSINGPASSWORD:\n      return t(\"konnect.error.login.validate.missingPassword\", \"Enter your password.\");\n    case ERROR_LOGIN_FAILED:\n      return t(\"konnect.error.login.failed\", \"Logon failed. Please verify your credentials and try again.\");\n    case ERROR_HTTP_NETWORK_ERROR:\n      return t(\"konnect.error.http.networkError\", \"Network error. Please check your connection and try again.\");\n    case ERROR_HTTP_UNEXPECTED_RESPONSE_STATUS:\n      return t(\"konnect.error.http.unexpectedResponseStatus\", \"Unexpected HTTP response: {{status}}. Please check your connection and try again.\", messageDescriptor.values);\n    case ERROR_HTTP_UNEXPECTED_RESPONSE_STATE:\n      return t(\"konnect.error.http.unexpectedResponseState\", \"Unexpected response state: {{state}}\", messageDescriptor.values);\n    default:\n  }\n\n  const f = t;\n  return f(messageDescriptor.defaultMessage, messageDescriptor.values);\n}\n\nexport const ErrorMessage = withTranslation()(ErrorMessageComponent);\n","import axios from 'axios';\n\nimport { newHelloRequest } from '../models/hello';\nimport { withClientRequestState } from '../utils';\nimport {\n  ExtendedError,\n  ERROR_HTTP_UNEXPECTED_RESPONSE_STATUS,\n  ERROR_HTTP_UNEXPECTED_RESPONSE_STATE\n} from '../errors';\n\nimport { handleAxiosError } from './utils';\nimport * as types from './types';\n\nexport function receiveError(error) {\n  return {\n    type: types.RECEIVE_ERROR,\n    error\n  };\n}\n\nexport function resetHello() {\n  return {\n    type: types.RESET_HELLO\n  };\n}\n\nexport function receiveHello(hello) {\n  const { success, username, displayName } = hello;\n\n  return {\n    type: types.RECEIVE_HELLO,\n    state: success === true,\n    username,\n    displayName,\n    hello\n  };\n}\n\nexport function executeHello() {\n  return function(dispatch, getState) {\n    dispatch(resetHello());\n\n    const { flow, query } = getState().common;\n\n    const r = withClientRequestState(newHelloRequest(flow, query));\n    return axios.post('./identifier/_/hello', r, {\n      headers: {\n        'Kopano-Konnect-XSRF': '1'\n      }\n    }).then(response => {\n      switch (response.status) {\n        case 200:\n          // success.\n          return response.data;\n        case 204:\n          // not signed-in.\n          return {\n            success: false,\n            state: response.headers['kopano-konnect-state']\n          };\n        default:\n          // error.\n          throw new ExtendedError(ERROR_HTTP_UNEXPECTED_RESPONSE_STATUS, response);\n      }\n    }).then(response => {\n      if (response.state !== r.state) {\n        throw new ExtendedError(ERROR_HTTP_UNEXPECTED_RESPONSE_STATE, response);\n      }\n\n      dispatch(receiveHello(response));\n      return Promise.resolve(response);\n    }).catch(error => {\n      error = handleAxiosError(error);\n\n      dispatch(receiveError(error));\n    });\n  };\n}\n\nexport function retryHello() {\n  return function(dispatch) {\n    dispatch(receiveError(null));\n\n    return dispatch(executeHello());\n  };\n}\n\nexport function requestLogoff() {\n  return {\n    type: types.REQUEST_LOGOFF\n  };\n}\n\nexport function receiveLogoff(state) {\n  return {\n    type: types.RECEIVE_LOGOFF,\n    state\n  };\n}\n\nexport function executeLogoff() {\n  return function(dispatch) {\n    dispatch(resetHello());\n    dispatch(requestLogoff());\n\n    const r = withClientRequestState({});\n    return axios.post('./identifier/_/logoff', r, {\n      headers: {\n        'Kopano-Konnect-XSRF': '1'\n      }\n    }).then(response => {\n      switch (response.status) {\n        case 200:\n          // success.\n          return response.data;\n        default:\n          // error.\n          throw new ExtendedError(ERROR_HTTP_UNEXPECTED_RESPONSE_STATUS, response);\n      }\n    }).then(response => {\n      if (response.state !== r.state) {\n        throw new ExtendedError(ERROR_HTTP_UNEXPECTED_RESPONSE_STATE, response);\n      }\n\n      dispatch(receiveLogoff(response.success === true));\n      return Promise.resolve(response);\n    }).catch(error => {\n      error = handleAxiosError(error);\n\n      dispatch(receiveError(error));\n    });\n  };\n}\n","export function newHelloRequest(flow, query) {\n  const r = {};\n\n  if (query.prompt) {\n    // TODO(longsleep): Validate prompt values?\n    r.prompt = query.prompt;\n  }\n\n  let selectedFlow = flow;\n  switch (flow) {\n    case 'oauth':\n    case 'consent':\n    case 'oidc':\n      r.scope = query.scope || '';\n      r.client_id = query.client_id || ''; // eslint-disable-line camelcase\n      r.redirect_uri = query.redirect_uri || '';  // eslint-disable-line camelcase\n      if (query.id_token_hint) {\n        r.id_token_hint = query.id_token_hint;  // eslint-disable-line camelcase\n      }\n      if (query.max_age) {\n        r.max_age = query.max_age;  // eslint-disable-line camelcase\n      }\n      if (query.claims_scope) {\n        // Add additional scopes from claims request if given.\n        r.scope += ' ' + query.claims_scope;\n      }\n      break;\n\n    default:\n      selectedFlow = null;\n  }\n\n  if (selectedFlow) {\n    r.flow = selectedFlow;\n  }\n\n  return r;\n}\n","export function withClientRequestState(obj) {\n  obj.state = Math.random().toString(36).substring(7);\n\n  return obj;\n}\n","import {\n  ExtendedError,\n  ERROR_HTTP_NETWORK_ERROR,\n  ERROR_HTTP_UNEXPECTED_RESPONSE_STATUS\n} from '../errors';\n\nexport function handleAxiosError(error) {\n  if (error.request) {\n    // Axios errors.\n    if (error.response) {\n      error = new ExtendedError(ERROR_HTTP_UNEXPECTED_RESPONSE_STATUS, error.response);\n    } else {\n      error = new ExtendedError(ERROR_HTTP_NETWORK_ERROR);\n    }\n  }\n\n  return error;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { withTranslation } from 'react-i18next';\n\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport renderIf from 'render-if';\n\nimport { retryHello } from '../actions/common';\nimport { ErrorMessage } from '../errors';\n\nclass Loading extends React.PureComponent {\n  render() {\n    const { error, t } = this.props;\n\n    return (\n        <Grid item align=\"center\">\n          {renderIf(error === null)(() => (\n            <LinearProgress className=\"oc-progress\" />\n          ))}\n          {renderIf(error !== null)(() => (\n            <div>\n              <Typography className=\"oc-light\" variant=\"h5\" gutterBottom align=\"center\">\n                {t(\"konnect.loading.error.headline\", \"Failed to connect to server\")}\n              </Typography>\n              <Typography align=\"center\" color=\"error\">\n                <ErrorMessage error={error}></ErrorMessage>\n              </Typography>\n              <Button\n                autoFocus\n                color=\"primary\"\n                variant=\"outlined\"\n                className=\"oc-button-primary oc-mt-l\"\n                onClick={(event) => this.retry(event)}\n              >\n                {t(\"konnect.login.retryButton.label\", \"Retry\")}\n              </Button>\n            </div>\n          ))}\n        </Grid>\n    );\n  }\n\n  retry(event) {\n    event.preventDefault();\n\n    this.props.dispatch(retryHello());\n  }\n}\n\nLoading.propTypes = {\n  classes: PropTypes.object.isRequired,\n  t: PropTypes.func.isRequired,\n\n  error: PropTypes.object,\n\n  dispatch: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => {\n  const { error } = state.common;\n\n  return {\n    error\n  };\n};\n\nexport default connect(mapStateToProps)(withTranslation()(Loading));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { Trans } from 'react-i18next';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport DialogContent from '@material-ui/core/DialogContent';\n\nimport Loading from './Loading';\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flex: 1,\n  },\n  content: {\n    position: 'relative',\n    width: '100%'\n  },\n  actions: {\n    marginTop: -40,\n    justifyContent: 'flex-start',\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3)\n  },\n  wrapper: {\n    width: '100%',\n    maxWidth: 300,\n    display: 'flex',\n    flex: 1,\n    alignItems: 'center'\n  }\n});\n\nconst ResponsiveScreen = (props) => {\n  const {\n    classes,\n    withoutLogo,\n    withoutPadding,\n    loading,\n    children,\n    className,\n    ...other\n  } = props;\n\n  const logo = withoutLogo ? null :\n    <img src={process.env.PUBLIC_URL + '/static/logo.svg'} className=\"oc-logo\" alt=\"ownCloud Logo\"/>;\n\n  const content = loading ? <Loading/> : (withoutPadding ? children : <DialogContent>{children}</DialogContent>);\n\n  return (\n    <Grid container justifyContent=\"center\" alignItems=\"center\" direction=\"column\" spacing={0}\n      className={classNames(classes.root, className)} {...other}>\n        <div className={classes.wrapper}>\n            <div className={classes.content}>\n              {logo}\n              {content}\n            </div>\n        </div>\n        <footer className=\"oc-footer-message\">\n              <Trans i18nKey=\"konnect.footer.slogan\"><strong>ownCloud</strong> - a safe home for all your data</Trans>\n        </footer>\n    </Grid>\n  );\n};\n\nResponsiveScreen.defaultProps = {\n  withoutLogo: false,\n  withoutPadding: false,\n  loading: false\n};\n\nResponsiveScreen.propTypes = {\n  classes: PropTypes.object.isRequired,\n  withoutLogo: PropTypes.bool,\n  withoutPadding: PropTypes.bool,\n  loading: PropTypes.bool,\n  branding: PropTypes.object,\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string,\n  PaperProps: PropTypes.object,\n  DialogProps: PropTypes.object\n};\n\nexport default withStyles(styles)(ResponsiveScreen);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n\nconst TextInput = (props) => {\n    const label = props.label;\n    const extraClassName = props.extraClassName;\n\n    delete props.label;\n    delete props.extraClassName;\n\n    return (\n        <div>\n            <label className=\"oc-label\"\n                   htmlFor={props.id}>{label}</label>\n            <input className={`oc-input ${extraClassName ? extraClassName : ''}`} {...props}\n                   placeholder={props.placeholder ? props.placeholder : null}/>\n        </div>);\n};\n\nTextInput.propTypes = {\n    placeholder: PropTypes.object,\n    label: PropTypes.object,\n    id: PropTypes.string,\n    extraClassName: props.string,\n}\n\nexport default TextInput;\n","import axios from 'axios';\nimport queryString from 'query-string';\n\nimport { newHelloRequest } from '../models/hello';\nimport { withClientRequestState } from '../utils';\nimport {\n  ExtendedError,\n  ERROR_LOGIN_VALIDATE_MISSINGUSERNAME,\n  ERROR_LOGIN_VALIDATE_MISSINGPASSWORD,\n  ERROR_LOGIN_FAILED,\n  ERROR_HTTP_UNEXPECTED_RESPONSE_STATUS,\n  ERROR_HTTP_UNEXPECTED_RESPONSE_STATE\n} from '../errors';\n\nimport * as types from './types';\nimport { receiveHello } from './common';\nimport { handleAxiosError } from './utils';\n\n// Modes for logon.\nexport const ModeLogonUsernameEmptyPasswordCookie = '0';\nexport const ModeLogonUsernamePassword = '1';\n\nexport function updateInput(name, value) {\n  return {\n    type: types.UPDATE_INPUT,\n    name,\n    value\n  };\n}\n\nexport function receiveValidateLogon(errors) {\n  return {\n    type: types.RECEIVE_VALIDATE_LOGON,\n    errors\n  };\n}\n\nexport function requestLogon(username, password) {\n  return {\n    type: types.REQUEST_LOGON,\n    username,\n    password\n  };\n}\n\nexport function receiveLogon(logon) {\n  const { success, errors } = logon;\n\n  return {\n    type: types.RECEIVE_LOGON,\n    success,\n    errors\n  };\n}\n\nexport function requestConsent(allow=false) {\n  return {\n    type: allow ? types.REQUEST_CONSENT_ALLOW : types.REQUEST_CONSENT_CANCEL\n  };\n}\n\nexport function receiveConsent(logon) {\n  const { success, errors } = logon;\n\n  return {\n    type: types.RECEIVE_CONSENT,\n    success,\n    errors\n  };\n}\n\nexport function executeLogon(username, password, mode=ModeLogonUsernamePassword) {\n  return function(dispatch, getState) {\n    dispatch(requestLogon(username, password));\n    dispatch(receiveHello({\n      username\n    })); // Reset any hello state on logon.\n\n    const { flow, query } = getState().common;\n\n    // Prepare params based on mode.\n    const params = [];\n    switch (mode) {\n      case ModeLogonUsernamePassword:\n        // Username with password.\n        params.push(username, password, mode);\n        break;\n\n      case ModeLogonUsernameEmptyPasswordCookie:\n        // Username with empty password - this only works when the user is already signed in.\n        params.push(username, '', mode);\n        break;\n    }\n\n    const r = withClientRequestState({\n      params: params,\n      hello: newHelloRequest(flow, query)\n    });\n    return axios.post('./identifier/_/logon', r, {\n      headers: {\n        'Kopano-Konnect-XSRF': '1'\n      }\n    }).then(response => {\n      switch (response.status) {\n        case 200:\n          // success.\n          return response.data;\n        case 204:\n          // login failed.\n          return {\n            success: false,\n            state: response.headers['kopano-konnect-state'],\n            errors: {\n              http: new Error(ERROR_LOGIN_FAILED)\n            }\n          };\n        default:\n          // error.\n          throw new ExtendedError(ERROR_HTTP_UNEXPECTED_RESPONSE_STATUS, response);\n      }\n    }).then(response => {\n      if (response.state !== r.state) {\n        throw new ExtendedError(ERROR_HTTP_UNEXPECTED_RESPONSE_STATE, response);\n      }\n\n      let { hello } = response;\n      if (!hello) {\n        hello = {\n          success: response.success,\n          username\n        };\n      }\n      dispatch(receiveHello(hello));\n      dispatch(receiveLogon(response));\n      return Promise.resolve(response);\n    }).catch(error => {\n      error = handleAxiosError(error);\n      const errors = {\n        http: error\n      };\n\n      dispatch(receiveValidateLogon(errors));\n      return {\n        success: false,\n        errors: errors\n      };\n    });\n  };\n}\n\nexport function executeConsent(allow=false, scope='') {\n  return function(dispatch, getState) {\n    dispatch(requestConsent(allow));\n\n    const { query } = getState().common;\n\n    const r = withClientRequestState({\n      allow,\n      scope,\n      client_id: query.client_id || '', // eslint-disable-line camelcase\n      redirect_uri: query.redirect_uri || '', // eslint-disable-line camelcase\n      ref: query.state || '',\n      flow_nonce: query.nonce || '' // eslint-disable-line camelcase\n    });\n    return axios.post('./identifier/_/consent', r, {\n      headers: {\n        'Kopano-Konnect-XSRF': '1'\n      }\n    }).then(response => {\n      switch (response.status) {\n        case 200:\n          // success.\n          return response.data;\n        case 204:\n          // cancel reply.\n          return {\n            success: true,\n            state: response.headers['kopano-konnect-state']\n          };\n        default:\n          // error.\n          throw new ExtendedError(ERROR_HTTP_UNEXPECTED_RESPONSE_STATUS, response);\n      }\n    }).then(response => {\n      if (response.state !== r.state) {\n        throw new ExtendedError(ERROR_HTTP_UNEXPECTED_RESPONSE_STATE, response);\n      }\n\n      dispatch(receiveConsent(response));\n      return Promise.resolve(response);\n    }).catch(error => {\n      error = handleAxiosError(error);\n      const errors = {\n        http: error\n      };\n\n      dispatch(receiveValidateLogon(errors));\n      return {\n        success: false,\n        errors: errors\n      };\n    });\n  };\n}\n\nexport function validateUsernamePassword(username, password, isSignedIn) {\n  return function(dispatch) {\n    return new Promise((resolve, reject) => {\n      const errors = {};\n\n      if (!username) {\n        errors.username = new Error(ERROR_LOGIN_VALIDATE_MISSINGUSERNAME);\n      }\n      if (!password && !isSignedIn) {\n        errors.password = new Error(ERROR_LOGIN_VALIDATE_MISSINGPASSWORD);\n      }\n\n      dispatch(receiveValidateLogon(errors));\n      if (Object.keys(errors).length === 0) {\n        resolve(errors);\n      } else {\n        reject(errors);\n      }\n    });\n  };\n}\n\nexport function executeLogonIfFormValid(username, password, isSignedIn) {\n  return (dispatch) => {\n    return dispatch(\n      validateUsernamePassword(username, password, isSignedIn)\n    ).then(() => {\n      const mode = isSignedIn ? ModeLogonUsernameEmptyPasswordCookie : ModeLogonUsernamePassword;\n      return dispatch(executeLogon(username, password, mode));\n    }).catch((errors) => {\n      return {\n        success: false,\n        errors: errors\n      };\n    });\n  };\n}\n\nexport function advanceLogonFlow(success, history, done=false, extraQuery={}) {\n  return (dispatch, getState) => {\n    if (!success) {\n      return;\n    }\n\n    const { flow, query, hello } = getState().common;\n    const q = Object.assign({}, query, extraQuery);\n\n    switch (flow) {\n      case 'oauth':\n      case 'consent':\n      case 'oidc':\n        if (hello.details.flow !== flow) {\n          // Ignore requested flow if hello flow does not match.\n          break;\n        }\n\n        if (!done && hello.details.next === 'consent') {\n          history.replace(`/consent${history.location.search}${history.location.hash}`);\n          return;\n        }\n        if (hello.details.continue_uri) {\n          q.prompt = 'none';\n          window.location.replace(hello.details.continue_uri + '?' + queryString.stringify(q));\n          return;\n        }\n\n        break;\n\n      default:\n        // Legacy stupid modes.\n        if (q.continue && q.continue.indexOf(document.location.origin) === 0) {\n          window.location.replace(q.continue);\n          return;\n        }\n    }\n\n    // Default action.\n    let target = '/welcome';\n    if (history.action === 'REPLACE') {\n      target = target + history.location.search + history.location.hash;\n    }\n\n    dispatch(receiveValidateLogon({})); // XXX(longsleep): hack to reset loading and errors.\n    history.push(target);\n  };\n}\n","import React, { useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { useTranslation } from 'react-i18next';\n\nimport renderIf from 'render-if';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport green from '@material-ui/core/colors/green';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\n\nimport TextInput from '../../components/TextInput'\n\nimport { updateInput, executeLogonIfFormValid, advanceLogonFlow } from '../../actions/login';\nimport { ErrorMessage } from '../../errors';\n\nconst styles = theme => ({\n  buttonProgress: {\n    color: green[500],\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  },\n  subHeader: {\n    marginBottom: theme.spacing(3)\n  },\n  wrapper: {\n    position: 'relative',\n    width: '100%',\n    textAlign: 'center'\n  },\n  message: {\n    marginTop: 5,\n    marginBottom: 5\n  }\n});\n\nfunction Login(props) {\n  const {\n    hello,\n    query,\n    dispatch,\n    history,\n    loading,\n    errors,\n    classes,\n    username,\n    password,\n  } = props;\n\n  const { t } = useTranslation();\n  const loginFailed = errors.http;\n  const hasError = errors.http || errors.username || errors.password;\n  const errorMessage = errors.http\n    ? <ErrorMessage error={errors.http}></ErrorMessage>\n    : (errors.username\n      ? <ErrorMessage error={errors.username}></ErrorMessage>\n      : <ErrorMessage error={errors.password}></ErrorMessage>);\n  const extraPropsUsername = {\n    \"aria-invalid\" : (errors.username || errors.http) ? 'true' : 'false'\n  };\n  const extraPropsPassword = {\n    \"aria-invalid\" : (errors.password || errors.http) ? 'true' : 'false',\n  };\n\n  if(errors.username || errors.http){\n    extraPropsUsername['extraClassName'] = 'error';\n    extraPropsUsername['aria-describedby'] = 'oc-login-error-message';\n  }\n\n  if(errors.password || errors.http){\n    extraPropsPassword['extraClassName'] = 'error';\n    extraPropsPassword['aria-describedby'] = 'oc-login-error-message';\n  }\n\n  useEffect(() => {\n    if (hello && hello.state && history.action !== 'PUSH') {\n      if (!query.prompt || query.prompt.indexOf('select_account') === -1) {\n        dispatch(advanceLogonFlow(true, history));\n        return;\n      }\n\n      history.replace(`/chooseaccount${history.location.search}${history.location.hash}`);\n      return;\n    }\n  }, [ /* no dependencies */ ]);\n\n  const handleChange = (name) => (event) => {\n    dispatch(updateInput(name, event.target.value));\n  };\n\n  const handleNextClick = (event) => {\n    event.preventDefault();\n\n    dispatch(executeLogonIfFormValid(username, password, false)).then((response) => {\n      if (response.success) {\n        dispatch(advanceLogonFlow(response.success, history));\n      }\n    });\n  };\n\n  const usernamePlaceHolder = useMemo(() => {\n    if (hello?.details?.branding?.usernameHintText ) {\n      switch (hello.details.branding.usernameHintText) {\n        case \"Username\":\n          break;\n        case \"Email\":\n          return t(\"konnect.login.usernameField.placeholder.email\", \"Email\");\n        case \"Identity\":\n          return t(\"konnect.login.usernameField.placeholder.identity\", \"Identity\");\n        default:\n          return hello.details.branding.usernameHintText;\n      }\n    }\n\n    return t(\"konnect.login.usernameField.placeholder.username\", \"Username\");\n  }, [hello, t]);\n\n  return (\n      <div>\n      <h1 className=\"oc-invisible-sr\"> Login </h1>\n      <form action=\"\" className=\"oc-login-form\" onSubmit={(event) => handleNextClick(event)}>\n        <TextInput\n              autoFocus\n              autoCapitalize=\"off\"\n              spellCheck=\"false\"\n              value={username}\n              onChange={handleChange('username')}\n              autoComplete=\"kopano-account username\"\n              placeholder={t(\"konnect.login.usernameField.label\", \"Username\")}\n              label={t(\"konnect.login.usernameField.label\", \"Username\")}\n              id=\"oc-login-username\"\n              {...extraPropsUsername}\n          />\n          <TextInput\n              type=\"password\"\n              margin=\"normal\"\n              onChange={handleChange('password')}\n              autoComplete=\"kopano-account current-password\"\n              placeholder={t(\"konnect.login.usernameField.label\", \"Password\")}\n              label={t(\"konnect.login.usernameField.label\", \"Password\")}\n              id=\"oc-login-password\"\n              {...extraPropsPassword}\n          />\n          {hasError && <Typography id=\"oc-login-error-message\" variant=\"subtitle2\" component=\"span\" color=\"error\" className={classes.message}>{errorMessage}</Typography>}\n          <div className={classes.wrapper}>\n            <br />\n            <Button\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n              className=\"oc-button-primary oc-mt-l\"\n              disabled={!!loading}\n              onClick={handleNextClick}\n            >\n              {t(\"konnect.login.nextButton.label\", \"Log in\")}\n            </Button>\n            {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </div>\n      </form>\n    </div>\n  );\n}\n\nLogin.propTypes = {\n  classes: PropTypes.object.isRequired,\n\n  loading: PropTypes.string.isRequired,\n  username: PropTypes.string.isRequired,\n  password: PropTypes.string.isRequired,\n  errors: PropTypes.object.isRequired,\n  branding: PropTypes.object,\n  hello: PropTypes.object,\n  query: PropTypes.object.isRequired,\n\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => {\n  const { loading, username, password, errors} = state.login;\n  const { branding, hello, query } = state.common;\n\n  return {\n    loading,\n    username,\n    password,\n    errors,\n    branding,\n    hello,\n    query\n  };\n};\n\nexport default connect(mapStateToProps)(withStyles(styles)(Login));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { withTranslation } from 'react-i18next';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport DialogContent from '@material-ui/core/DialogContent';\n\nimport { executeLogonIfFormValid, advanceLogonFlow } from '../../actions/login';\nimport { ErrorMessage } from '../../errors';\n\nconst styles = theme => ({\n  content: {\n    overflowY: 'visible',\n  },\n  subHeader: {\n    marginBottom: theme.spacing(2)\n  },\n  message: {\n    marginTop: theme.spacing(2)\n  },\n  accountList: {\n    marginLeft: theme.spacing(-5),\n    marginRight: theme.spacing(-5)\n  },\n  accountListItem: {\n    paddingLeft: theme.spacing(5),\n    paddingRight: theme.spacing(5)\n  }\n});\n\nclass Chooseaccount extends React.PureComponent {\n  componentDidMount() {\n    const { hello, history } = this.props;\n    if ((!hello || !hello.state) && history.action !== 'PUSH') {\n      history.replace(`/identifier${history.location.search}${history.location.hash}`);\n    }\n  }\n\n  render() {\n    const { loading, errors, classes, hello, t } = this.props;\n\n    let errorMessage = null;\n    if (errors.http) {\n      errorMessage = <Typography color=\"error\" className={classes.message}>\n        <ErrorMessage error={errors.http}></ErrorMessage>\n      </Typography>;\n    }\n\n    let username = '';\n    if (hello && hello.state) {\n      username = hello.username;\n    }\n\n    return (\n      <DialogContent className={classes.content}>\n        <Typography variant=\"h5\" component=\"h3\" className=\"oc-light\">\n          {t(\"konnect.chooseaccount.headline\", \"Choose an account\")}\n        </Typography>\n        <Typography variant=\"subtitle1\" className={classes.subHeader + \" oc-light\"}>\n          {t(\"konnect.chooseaccount.subHeader\", \"to sign in\")}\n        </Typography>\n\n        <form action=\"\" onSubmit={(event) => this.logon(event)}>\n          <List disablePadding className={classes.accountList}>\n            <ListItem\n              button\n              disableGutters\n              className={classes.accountListItem}\n              disabled={!!loading}\n              onClick={(event) => this.logon(event)}\n            ><ListItemAvatar><Avatar>{username.substr(0, 1)}</Avatar></ListItemAvatar>\n              <ListItemText className=\"oc-light\" primary={username} />\n            </ListItem>\n            <ListItem\n              button\n              disableGutters\n              className={classes.accountListItem}\n              disabled={!!loading}\n              onClick={(event) => this.logoff(event)}\n            >\n              <ListItemAvatar>\n                <Avatar>\n                  {t(\"konnect.chooseaccount.useOther.persona.label\", \"?\")}\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText\n                className=\"oc-light\"\n                primary={\n                  t(\"konnect.chooseaccount.useOther.label\", \"Use another account\")\n                }\n              />\n            </ListItem>\n          </List>\n\n          {errorMessage}\n        </form>\n      </DialogContent>\n    );\n  }\n\n  logon(event) {\n    event.preventDefault();\n\n    const { hello, dispatch, history } = this.props;\n    dispatch(executeLogonIfFormValid(hello.username, '', true)).then((response) => {\n      if (response.success) {\n        dispatch(advanceLogonFlow(response.success, history));\n      }\n    });\n  }\n\n  logoff(event) {\n    event.preventDefault();\n\n    const { history} = this.props;\n    history.push(`/identifier${history.location.search}${history.location.hash}`);\n  }\n}\n\nChooseaccount.propTypes = {\n  classes: PropTypes.object.isRequired,\n  t: PropTypes.func.isRequired,\n\n  loading: PropTypes.string.isRequired,\n  errors: PropTypes.object.isRequired,\n  hello: PropTypes.object,\n\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => {\n  const { loading, errors } = state.login;\n  const { hello } = state.common;\n\n  return {\n    loading,\n    errors,\n    hello\n  };\n};\n\nexport default connect(mapStateToProps)(withStyles(styles)(withTranslation()(Chooseaccount)));\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ClientDisplayName = ({ client, ...rest }) => (\n  <span {...rest}>{client.display_name ? client.display_name : client.id}</span>\n);\n\nClientDisplayName.propTypes = {\n  client: PropTypes.object.isRequired\n};\n\nexport default ClientDisplayName;\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport { useTranslation } from 'react-i18next';\n\nconst styles = () => ({\n  row: {\n    paddingTop: 0,\n    paddingBottom: 0\n  }\n});\n\nconst ScopesList = ({scopes, meta, classes, ...rest}) => {\n  const { mapping, definitions } = meta;\n\n  const { t } = useTranslation();\n\n  const rows = [];\n  const known = {};\n\n  // TODO(longsleep): Sort scopes according to priority.\n  for (let scope in scopes) {\n    if (!scopes[scope]) {\n      continue;\n    }\n    let id = mapping[scope];\n    if (id) {\n      if (known[id]) {\n        continue;\n      }\n      known[id] = true;\n    } else {\n      id = scope;\n    }\n    let definition = definitions[id];\n    let label;\n    if (definition) {\n      switch (definition.id) {\n        case 'scope_alias_basic':\n          label = t(\"konnect.scopeDescription.aliasBasic\", \"Access your basic account information\");\n          break;\n        case 'scope_offline_access':\n          label = t(\"konnect.scopeDescription.offlineAccess\", \"Keep the allowed access persistently and forever\");\n          break;\n        default:\n      }\n      if (!label) {\n        label = definition.description;\n      }\n    }\n    if (!label) {\n      label = t(\"konnect.scopeDescription.scope\", \"Scope: {{scope}}\", { scope });\n    }\n\n    rows.push(\n      <ListItem\n        disableGutters\n        dense\n        key={id}\n        className={classes.row}\n      ><Checkbox\n          checked\n          disableRipple\n          disabled\n          className=\"oc-checkbox-dark\"\n        />\n        <ListItemText primary={label} className=\"oc-light\" />\n      </ListItem>\n    );\n  }\n\n  return (\n    <List {...rest}>\n      {rows}\n    </List>\n  );\n};\n\nScopesList.propTypes = {\n  classes: PropTypes.object.isRequired,\n\n  scopes: PropTypes.object.isRequired,\n  meta: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(ScopesList);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { withTranslation, Trans } from 'react-i18next';\n\nimport renderIf from 'render-if';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport BaseTooltip from '@material-ui/core/Tooltip';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport green from '@material-ui/core/colors/green';\nimport Typography from '@material-ui/core/Typography';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\n\nimport { executeConsent, advanceLogonFlow, receiveValidateLogon } from '../../actions/login';\nimport { ErrorMessage } from '../../errors';\nimport { REQUEST_CONSENT_ALLOW } from '../../actions/types';\nimport ClientDisplayName from '../../components/ClientDisplayName';\nimport ScopesList from '../../components/ScopesList';\n\nconst styles = theme => ({\n  button: {\n    margin: theme.spacing(1),\n    minWidth: 100\n  },\n  buttonProgress: {\n    color: green[500],\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  },\n  subHeader: {\n    marginBottom: theme.spacing(2)\n  },\n  scopesList: {\n    marginBottom: theme.spacing(2)\n  },\n  wrapper: {\n    marginTop: theme.spacing(2),\n    position: 'relative',\n    display: 'inline-block'\n  },\n  message: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2)\n  }\n});\n\nconst Tooltip = ({children, ...other } = {}) => {\n  // Ensures that there is only a single child for the tooltip element to\n  // make it compatible with the Trans component.\n  return <BaseTooltip {...other}><span>{children}</span></BaseTooltip>;\n}\n\nclass Consent extends React.PureComponent {\n  componentDidMount() {\n    const { dispatch, hello, history, client } = this.props;\n    if ((!hello || !hello.state || !client) && history.action !== 'PUSH') {\n      history.replace(`/identifier${history.location.search}${history.location.hash}`);\n    }\n\n    dispatch(receiveValidateLogon({})); // XXX(longsleep): hack to reset loading and errors.\n  }\n\n  action = (allow=false, scopes={}) => (event) => {\n    event.preventDefault();\n\n    if (allow === undefined) {\n      return;\n    }\n\n    // Convert all scopes which are true to a scope value.\n    const scope = Object.keys(scopes).filter(scope => {\n      return !!scopes[scope];\n    }).join(' ');\n\n    const { dispatch, history } = this.props;\n    dispatch(executeConsent(allow, scope)).then((response) => {\n      if (response.success) {\n        dispatch(advanceLogonFlow(response.success, history, true, {konnect: response.state}));\n      }\n    });\n  }\n\n  render() {\n    const { classes, loading, hello, errors, client, t } = this.props;\n\n    const scopes = hello.details.scopes || {};\n    const meta = hello.details.meta || {};\n\n    return (\n      <DialogContent>\n        <Typography variant=\"h5\" component=\"h3\" className=\"oc-light\">\n          {t(\"konnect.consent.headline\", \"Hi {{displayName}}\", { displayName: hello.displayName })}\n        </Typography>\n        <Typography variant=\"subtitle1\" className={classes.subHeader + \" oc-light oc-mb-m\"}>\n          {hello.username}\n        </Typography>\n\n        <Typography variant=\"subtitle1\" gutterBottom className=\"oc-light\">\n          <Trans t={t} i18nKey=\"konnect.consent.message\">\n            <Tooltip\n              placement=\"bottom\"\n              title={t(\"konnect.consent.tooltip.client\", 'Clicking \"Allow\" will redirect you to: {{redirectURI}}', { redirectURI: client.redirect_uri })}\n            >\n              <em><ClientDisplayName client={client}/></em>\n            </Tooltip> wants to\n          </Trans>\n        </Typography>\n        <ScopesList dense disablePadding className={classes.scopesList} scopes={scopes} meta={meta.scopes}></ScopesList>\n\n        <Typography variant=\"subtitle1\" gutterBottom className=\"oc-light\">\n          <Trans t={t} i18nKey=\"konnect.consent.question\">\n            Allow <em><ClientDisplayName client={client}/></em> to do this?\n          </Trans>\n        </Typography>\n        <Typography className=\"oc-light\">\n          {t(\"konnect.consent.consequence\", \"By clicking Allow, you allow this app to use your information.\")}\n        </Typography>\n\n        <form action=\"\" onSubmit={this.action(undefined, scopes)}>\n          <DialogActions>\n            <div className={classes.wrapper}>\n              <Button\n                color=\"secondary\"\n                className={classes.button}\n                disabled={!!loading}\n                onClick={this.action(false, scopes)}\n              >\n                {t(\"konnect.consent.cancelButton.label\", \"Cancel\")}\n              </Button>\n              {(loading && loading !== REQUEST_CONSENT_ALLOW) &&\n                <CircularProgress size={24} className={classes.buttonProgress} />}\n            </div>\n            <div className={classes.wrapper}>\n              <Button\n                type=\"submit\"\n                color=\"primary\"\n                variant=\"contained\"\n                className=\"oc-button-primary\"\n                disabled={!!loading}\n                onClick={this.action(true, scopes)}\n              >\n                {t(\"konnect.consent.allowButton.label\", \"Allow\")}\n              </Button>\n              {loading === REQUEST_CONSENT_ALLOW && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </div>\n          </DialogActions>\n\n          {renderIf(errors.http)(() => (\n            <Typography variant=\"subtitle2\" color=\"error\" className={classes.message}>\n              <ErrorMessage error={errors.http}></ErrorMessage>\n            </Typography>\n          ))}\n        </form>\n      </DialogContent>\n    );\n  }\n}\n\nConsent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  t: PropTypes.func.isRequired,\n\n  loading: PropTypes.string.isRequired,\n  errors: PropTypes.object.isRequired,\n  hello: PropTypes.object,\n  client: PropTypes.object.isRequired,\n\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => {\n  const { hello } = state.common;\n  const { loading, errors } = state.login;\n\n  return {\n    loading: loading,\n    errors,\n    hello,\n    client: hello.details.client || {}\n  };\n};\n\nexport default connect(mapStateToProps)(withStyles(styles)(withTranslation()(Consent)));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { Route, Switch } from 'react-router-dom';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ResponsiveScreen from '../../components/ResponsiveScreen';\nimport RedirectWithQuery from '../../components/RedirectWithQuery';\nimport { executeHello } from '../../actions/common';\n\nimport Login from './Login';\nimport Chooseaccount from './Chooseaccount';\nimport Consent from './Consent';\n\nconst styles = () => ({\n});\n\nclass Loginscreen extends React.PureComponent {\n  componentDidMount() {\n    this.props.dispatch(executeHello());\n  }\n\n  render() {\n    const { branding, hello } = this.props;\n\n    const loading = hello === null;\n    return (\n      <ResponsiveScreen loading={loading} branding={branding} withoutPadding>\n        <Switch>\n          <Route path=\"/identifier\" exact component={Login}></Route>\n          <Route path=\"/chooseaccount\" exact component={Chooseaccount}></Route>\n          <Route path=\"/consent\" exact component={Consent}></Route>\n          <RedirectWithQuery target=\"/identifier\"/>\n        </Switch>\n      </ResponsiveScreen>\n    );\n  }\n}\n\nLoginscreen.propTypes = {\n  classes: PropTypes.object.isRequired,\n\n  branding: PropTypes.object,\n  hello: PropTypes.object,\n\n  dispatch: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state) => {\n  const { branding, hello } = state.common;\n\n  return {\n    branding,\n    hello\n  };\n};\n\nexport default connect(mapStateToProps)(withStyles(styles)(Loginscreen));\n"],"sourceRoot":""}