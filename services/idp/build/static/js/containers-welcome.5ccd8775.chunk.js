(this.webpackJsonpidentifier=this.webpackJsonpidentifier||[]).push([[4],{127:function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return m}));var r=n(128),a=n(3),o=n(7),c=n(9),i=n(20),s=n(130),u=n(152),l=n(218),d="konnect.error.login.validate.missingUsername",f="konnect.error.login.validate.missingPassword",h="konnect.error.login.failed",p="konnect.error.http.networkError",b="konnect.error.http.unexpectedResponseStatus",g="konnect.error.http.unexpectedResponseState",j=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(o.a)(this,n),(a=t.call(this,e)).values=void 0,void 0!==Error.captureStackTrace&&Error.captureStackTrace(Object(c.a)(a),n),a.values=r,a}return Object(a.a)(n)}(Object(u.a)(Error));var m=Object(l.a)()((function(e){var t=e.error,n=e.t,a=e.values;if(!t)return null;var o=t.id?t.id:t.message,c=Object.assign({},{id:o,defaultMessage:t.id?t.message:void 0,values:Object(r.a)(Object(r.a)({},t.values),a)});switch(c.id){case d:return n("konnect.error.login.validate.missingUsername","Enter a valid value.",c.values);case f:return n("konnect.error.login.validate.missingPassword","Enter your password.");case h:return n("konnect.error.login.failed","Logon failed. Please verify your credentials and try again.");case p:return n("konnect.error.http.networkError","Network error. Please check your connection and try again.");case b:return n("konnect.error.http.unexpectedResponseStatus","Unexpected HTTP response: {{status}}. Please check your connection and try again.",c.values);case g:return n("konnect.error.http.unexpectedResponseState","Unexpected response state: {{state}}",c.values)}return n(c.defaultMessage,c.values)}))},131:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return b}));var r=n(143),a=n.n(r),o=n(135),c=n(136),i=n(127),s=n(137),u=n(5);function l(e){return{type:u.b,error:e}}function d(){return{type:u.k}}function f(e){var t=e.success,n=e.username,r=e.displayName;return{type:u.c,state:!0===t,username:n,displayName:r,hello:e}}function h(){return function(e,t){e(d());var n=t().common,r=n.flow,u=n.query,h=Object(c.a)(Object(o.a)(r,u));return a.a.post("./identifier/_/hello",h,{headers:{"Kopano-Konnect-XSRF":"1"}}).then((function(e){switch(e.status){case 200:return e.data;case 204:return{success:!1,state:e.headers["kopano-konnect-state"]};default:throw new i.h(i.c,e)}})).then((function(t){if(t.state!==h.state)throw new i.h(i.b,t);return e(f(t)),Promise.resolve(t)})).catch((function(t){t=Object(s.a)(t),e(l(t))}))}}function p(){return function(e){return e(l(null)),e(h())}}function b(){return function(e){e(d()),e({type:u.i});var t=Object(c.a)({});return a.a.post("./identifier/_/logoff",t,{headers:{"Kopano-Konnect-XSRF":"1"}}).then((function(e){if(200===e.status)return e.data;throw new i.h(i.c,e)})).then((function(n){if(n.state!==t.state)throw new i.h(i.b,n);var r;return e((r=!0===n.success,{type:u.d,state:r})),Promise.resolve(n)})).catch((function(t){t=Object(s.a)(t),e(l(t))}))}}},135:function(e,t,n){"use strict";function r(e,t){var n={};t.prompt&&(n.prompt=t.prompt);var r=e;switch(e){case"oauth":case"consent":case"oidc":n.scope=t.scope||"",n.client_id=t.client_id||"",n.redirect_uri=t.redirect_uri||"",t.id_token_hint&&(n.id_token_hint=t.id_token_hint),t.max_age&&(n.max_age=t.max_age),t.claims_scope&&(n.scope+=" "+t.claims_scope);break;default:r=null}return r&&(n.flow=r),n}n.d(t,"a",(function(){return r}))},136:function(e,t,n){"use strict";function r(e){return e.state=Math.random().toString(36).substring(7),e}n.d(t,"a",(function(){return r}))},137:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(127);function a(e){return e.request&&(e=e.response?new r.h(r.c,e.response):new r.h(r.a)),e}},141:function(e,t,n){"use strict";var r=n(128),a=n(2),o=n(0),c=n.n(o),i=n(149),s=n.n(i),u=n(233),l=n(47),d=n(219),f=n(223),h=n(7),p=n(3),b=n(20),g=n(130),j=n(49),m=n(218),v=n(220),O=n(221),k=n(222),w=n(134),y=n.n(w),x=n(131),N=n(127),_=n(6),P=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.error,r=t.t;return Object(_.jsxs)(d.a,{item:!0,align:"center",children:[y()(null===n)((function(){return Object(_.jsx)(v.a,{className:"oc-progress"})})),y()(null!==n)((function(){return Object(_.jsxs)("div",{children:[Object(_.jsx)(O.a,{className:"oc-light",variant:"h5",gutterBottom:!0,align:"center",children:r("konnect.loading.error.headline","Failed to connect to server")}),Object(_.jsx)(O.a,{align:"center",color:"error",children:Object(_.jsx)(N.g,{error:n})}),Object(_.jsx)(k.a,{autoFocus:!0,color:"primary",variant:"outlined",className:"oc-button-primary oc-mt-l",onClick:function(t){return e.retry(t)},children:r("konnect.login.retryButton.label","Retry")})]})}))]})}},{key:"retry",value:function(e){e.preventDefault(),this.props.dispatch(Object(x.d)())}}]),n}(c.a.PureComponent),S=Object(j.b)((function(e){return{error:e.common.error}}))(Object(m.a)()(P)),C=["classes","withoutLogo","withoutPadding","loading","children","className"],R=function(e){var t=e.classes,n=e.withoutLogo,o=e.withoutPadding,c=e.loading,i=e.children,l=e.className,h=Object(a.a)(e,C),p=n?null:Object(_.jsx)("img",{src:"./static/logo.svg",className:"oc-logo",alt:"ownCloud Logo"}),b=c?Object(_.jsx)(S,{}):o?i:Object(_.jsx)(f.a,{children:i});return Object(_.jsxs)(d.a,Object(r.a)(Object(r.a)({container:!0,justifyContent:"center",alignItems:"center",direction:"column",spacing:0,className:s()(t.root,l)},h),{},{children:[Object(_.jsx)("div",{className:t.wrapper,children:Object(_.jsxs)("div",{className:t.content,children:[p,b]})}),Object(_.jsx)("footer",{className:"oc-footer-message",children:Object(_.jsxs)(u.a,{i18nKey:"konnect.footer.slogan",children:[Object(_.jsx)("strong",{children:"ownCloud"})," - a safe home for all your data"]})})]}))};R.defaultProps={withoutLogo:!1,withoutPadding:!1,loading:!1};t.a=Object(l.a)((function(e){return{root:{display:"flex",flex:1},content:{position:"relative",width:"100%"},actions:{marginTop:-40,justifyContent:"flex-start",paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},wrapper:{width:"100%",maxWidth:300,display:"flex",flex:1,alignItems:"center"}}}))(R)},234:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(7),a=n(3),o=n(20),c=n(130),i=n(0),s=n.n(i),u=n(49),l=n(218),d=n(47),f=n(222),h=n(221),p=n(227),b=n(141),g=n(131),j=n(6),m=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.branding,a=t.hello,o=t.t,c=null===a;return Object(j.jsxs)(b.a,{loading:c,branding:r,children:[Object(j.jsx)(h.a,{variant:"h5",component:"h3",className:"oc-light",children:o("konnect.welcome.headline","Welcome {{displayName}}",{displayName:a.displayName})}),Object(j.jsx)(h.a,{variant:"subtitle1",className:n.subHeader+" oc-light",children:a.username}),Object(j.jsx)(h.a,{gutterBottom:!0,className:"oc-light",children:o("konnect.welcome.message","You are signed in - awesome!")}),Object(j.jsx)(p.a,{children:Object(j.jsx)(f.a,{color:"secondary",className:n.button,variant:"contained",onClick:function(t){return e.logoff(t)},children:o("konnect.welcome.signoutButton.label","Sign out")})})]})}},{key:"logoff",value:function(e){var t=this;e.preventDefault(),this.props.dispatch(Object(g.b)()).then((function(e){var n=t.props.history;e.success&&n.push("/identifier")}))}}]),n}(s.a.PureComponent),v=Object(u.b)((function(e){var t=e.common;return{branding:t.branding,hello:t.hello}}))(Object(d.a)((function(e){return{button:{margin:e.spacing(1),minWidth:100},subHeader:{marginBottom:e.spacing(5)}}}))(Object(l.a)()(m)))}}]);
//# sourceMappingURL=containers-welcome.5ccd8775.chunk.js.map