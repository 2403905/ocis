(this.webpackJsonpidentifier=this.webpackJsonpidentifier||[]).push([[2],{127:function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return j})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return m}));var r=n(128),o=n(3),a=n(7),c=n(9),i=n(20),s=n(130),u=n(152),l=n(218),d="konnect.error.login.validate.missingUsername",h="konnect.error.login.validate.missingPassword",f="konnect.error.login.failed",p="konnect.error.http.networkError",b="konnect.error.http.unexpectedResponseStatus",j="konnect.error.http.unexpectedResponseState",g=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e,r){var o;return Object(a.a)(this,n),(o=t.call(this,e)).values=void 0,void 0!==Error.captureStackTrace&&Error.captureStackTrace(Object(c.a)(o),n),o.values=r,o}return Object(o.a)(n)}(Object(u.a)(Error));var m=Object(l.a)()((function(e){var t=e.error,n=e.t,o=e.values;if(!t)return null;var a=t.id?t.id:t.message,c=Object.assign({},{id:a,defaultMessage:t.id?t.message:void 0,values:Object(r.a)(Object(r.a)({},t.values),o)});switch(c.id){case d:return n("konnect.error.login.validate.missingUsername","Enter a valid value.",c.values);case h:return n("konnect.error.login.validate.missingPassword","Enter your password.");case f:return n("konnect.error.login.failed","Logon failed. Please verify your credentials and try again.");case p:return n("konnect.error.http.networkError","Network error. Please check your connection and try again.");case b:return n("konnect.error.http.unexpectedResponseStatus","Unexpected HTTP response: {{status}}. Please check your connection and try again.",c.values);case j:return n("konnect.error.http.unexpectedResponseState","Unexpected response state: {{state}}",c.values)}return n(c.defaultMessage,c.values)}))},131:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return b}));var r=n(143),o=n.n(r),a=n(135),c=n(136),i=n(127),s=n(137),u=n(5);function l(e){return{type:u.b,error:e}}function d(){return{type:u.k}}function h(e){var t=e.success,n=e.username,r=e.displayName;return{type:u.c,state:!0===t,username:n,displayName:r,hello:e}}function f(){return function(e,t){e(d());var n=t().common,r=n.flow,u=n.query,f=Object(c.a)(Object(a.a)(r,u));return o.a.post("./identifier/_/hello",f,{headers:{"Kopano-Konnect-XSRF":"1"}}).then((function(e){switch(e.status){case 200:return e.data;case 204:return{success:!1,state:e.headers["kopano-konnect-state"]};default:throw new i.h(i.c,e)}})).then((function(t){if(t.state!==f.state)throw new i.h(i.b,t);return e(h(t)),Promise.resolve(t)})).catch((function(t){t=Object(s.a)(t),e(l(t))}))}}function p(){return function(e){return e(l(null)),e(f())}}function b(){return function(e){e(d()),e({type:u.i});var t=Object(c.a)({});return o.a.post("./identifier/_/logoff",t,{headers:{"Kopano-Konnect-XSRF":"1"}}).then((function(e){if(200===e.status)return e.data;throw new i.h(i.c,e)})).then((function(n){if(n.state!==t.state)throw new i.h(i.b,n);var r;return e((r=!0===n.success,{type:u.d,state:r})),Promise.resolve(n)})).catch((function(t){t=Object(s.a)(t),e(l(t))}))}}},135:function(e,t,n){"use strict";function r(e,t){var n={};t.prompt&&(n.prompt=t.prompt);var r=e;switch(e){case"oauth":case"consent":case"oidc":n.scope=t.scope||"",n.client_id=t.client_id||"",n.redirect_uri=t.redirect_uri||"",t.id_token_hint&&(n.id_token_hint=t.id_token_hint),t.max_age&&(n.max_age=t.max_age),t.claims_scope&&(n.scope+=" "+t.claims_scope);break;default:r=null}return r&&(n.flow=r),n}n.d(t,"a",(function(){return r}))},136:function(e,t,n){"use strict";function r(e){return e.state=Math.random().toString(36).substring(7),e}n.d(t,"a",(function(){return r}))},137:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(127);function o(e){return e.request&&(e=e.response?new r.h(r.c,e.response):new r.h(r.a)),e}},141:function(e,t,n){"use strict";var r=n(128),o=n(2),a=n(0),c=n.n(a),i=n(149),s=n.n(i),u=n(233),l=n(47),d=n(219),h=n(223),f=n(7),p=n(3),b=n(20),j=n(130),g=n(49),m=n(218),v=n(220),O=n(221),y=n(222),k=n(134),x=n.n(k),w=n(131),N=n(127),_=n(6),P=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.error,r=t.t;return Object(_.jsxs)(d.a,{item:!0,align:"center",children:[x()(null===n)((function(){return Object(_.jsx)(v.a,{className:"oc-progress"})})),x()(null!==n)((function(){return Object(_.jsxs)("div",{children:[Object(_.jsx)(O.a,{className:"oc-light",variant:"h5",gutterBottom:!0,align:"center",children:r("konnect.loading.error.headline","Failed to connect to server")}),Object(_.jsx)(O.a,{align:"center",color:"error",children:Object(_.jsx)(N.g,{error:n})}),Object(_.jsx)(y.a,{autoFocus:!0,color:"primary",variant:"outlined",className:"oc-button-primary oc-mt-l",onClick:function(t){return e.retry(t)},children:r("konnect.login.retryButton.label","Retry")})]})}))]})}},{key:"retry",value:function(e){e.preventDefault(),this.props.dispatch(Object(w.d)())}}]),n}(c.a.PureComponent),S=Object(g.b)((function(e){return{error:e.common.error}}))(Object(m.a)()(P)),C=["classes","withoutLogo","withoutPadding","loading","children","className"],R=function(e){var t=e.classes,n=e.withoutLogo,a=e.withoutPadding,c=e.loading,i=e.children,l=e.className,f=Object(o.a)(e,C),p=n?null:Object(_.jsx)("img",{src:"./static/logo.svg",className:"oc-logo",alt:"ownCloud Logo"}),b=c?Object(_.jsx)(S,{}):a?i:Object(_.jsx)(h.a,{children:i});return Object(_.jsxs)(d.a,Object(r.a)(Object(r.a)({container:!0,justifyContent:"center",alignItems:"center",direction:"column",spacing:0,className:s()(t.root,l)},f),{},{children:[Object(_.jsx)("div",{className:t.wrapper,children:Object(_.jsxs)("div",{className:t.content,children:[p,b]})}),Object(_.jsx)("footer",{className:"oc-footer-message",children:Object(_.jsxs)(u.a,{i18nKey:"konnect.footer.slogan",children:[Object(_.jsx)("strong",{children:"ownCloud"})," - a safe home for all your data"]})})]}))};R.defaultProps={withoutLogo:!1,withoutPadding:!1,loading:!1};t.a=Object(l.a)((function(e){return{root:{display:"flex",flex:1},content:{position:"relative",width:"100%"},actions:{marginTop:-40,justifyContent:"flex-start",paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},wrapper:{width:"100%",maxWidth:300,display:"flex",flex:1,alignItems:"center"}}}))(R)},235:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var r=n(7),o=n(3),a=n(20),c=n(130),i=n(0),s=n.n(i),u=n(49),l=n(218),d=n(134),h=n.n(d),f=n(47),p=n(222),b=n(221),j=n(227),g=n(141),m=n(131),v=n(6),O=function(e){Object(a.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(m.a)())}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.branding,o=t.hello,a=t.t,c=null===o;return Object(v.jsxs)(g.a,{loading:c,branding:r,children:[h()(null!==o&&!o.state)((function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(b.a,{variant:"h5",component:"h3",children:a("konnect.goodbye.headline","Goodbye")}),Object(v.jsx)(b.a,{variant:"subtitle1",className:n.subHeader,children:a("konnect.goodbye.subHeader","you have been signed out from your account")}),Object(v.jsx)(b.a,{gutterBottom:!0,children:a("konnect.goodbye.message.close","You can close this window now.")})]})})),h()(null!==o&&!0===o.state)((function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(b.a,{variant:"h5",component:"h3",children:a("konnect.goodbye.confirm.headline","Hello {{displayName}}",{displayName:o.displayName})}),Object(v.jsx)(b.a,{variant:"subtitle1",className:n.subHeader,children:a("konnect.goodbye.confirm.subHeader","please confirm sign out")}),Object(v.jsx)(b.a,{gutterBottom:!0,children:a("konnect.goodbye.message.confirm","Press the button below, to sign out from your account now.")}),Object(v.jsx)(j.a,{children:Object(v.jsx)("div",{className:n.wrapper,children:Object(v.jsx)(p.a,{color:"secondary",variant:"outlined",className:n.button,onClick:function(t){return e.logoff(t)},children:a("konnect.goodbye.signoutButton.label","Sign out")})})})]})}))]})}},{key:"logoff",value:function(e){var t=this;e.preventDefault(),this.props.dispatch(Object(m.b)()).then((function(e){var n=t.props.history;e.success&&(t.props.dispatch(Object(m.a)()),n.push("/goodbye"))}))}}]),n}(s.a.PureComponent),y=Object(u.b)((function(e){var t=e.common;return{branding:t.branding,hello:t.hello}}))(Object(f.a)((function(e){return{subHeader:{marginBottom:e.spacing(5)},wrapper:{marginTop:e.spacing(5),position:"relative",display:"inline-block"}}}))(Object(l.a)()(O)))}}]);
//# sourceMappingURL=containers-goodbye.73a43b3a.chunk.js.map