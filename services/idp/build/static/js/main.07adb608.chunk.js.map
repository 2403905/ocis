{"version":3,"sources":["actions/types.js","locales lazy-once /^/.//.*/.json$/ include: //.json$/ groupOptions: {\"prefetchOrder\":0} namespace object","locales/index.ts","i18n.ts","components/Spinner.js","version.js","App.jsx","reducers/common.js","reducers/login.js","reducers/index.js","store.js","index.tsx"],"names":["RECEIVE_ERROR","RESET_HELLO","RECEIVE_HELLO","RECEIVE_VALIDATE_LOGON","REQUEST_LOGON","RECEIVE_LOGON","UPDATE_INPUT","REQUEST_CONSENT_ALLOW","REQUEST_CONSENT_CANCEL","RECEIVE_CONSENT","REQUEST_LOGOFF","RECEIVE_LOGOFF","SERVICE_WORKER_NEW_CONTENT","map","webpackAsyncContext","req","webpackAsyncContextResolve","then","id","__webpack_require__","t","e","o","Error","code","keys","Object","resolve","module","exports","config","supportedLanguages","allLocales","locale","queryUiLocalesDetector","name","lookup","options","ui_locales","queryString","parse","document","location","search","Array","isArray","split","languageDetector","LanguageDetector","addDetector","i18n","use","resourcesToBackend","language","namespace","callback","resources","catch","error","initReactI18next","init","fallbackLng","supportedLngs","cleanCode","returnEmptyString","debug","detection","order","lookupCookie","lookupLocalStorage","caches","interpolation","escapeValue","useStyles","makeStyles","root","position","top","left","transform","Spinner","classes","className","Fade","in","style","transitionDelay","unmountOnExit","CircularProgress","size","thickness","build","process","REACT_APP_KOPANO_BUILD","LazyMain","lazy","console","info","version","App","theme","fallback","query","flow","defaultState","hello","branding","updateAvailable","pathPrefix","getElementById","getAttribute","commonReducer","state","action","type","assign","username","displayName","details","loginReducer","loading","password","errors","success","value","rootReducer","combineReducers","common","login","middlewares","thunkMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.07adb608.chunk.js","sourcesContent":["export const RECEIVE_ERROR = 'RECEIVE_ERROR';\n\nexport const RESET_HELLO = 'RESET_HELLO';\nexport const EXECUTE_HELLO = 'EXECUTE_HELLO';\nexport const RECEIVE_HELLO = 'RECEIVE_HELLO';\n\nexport const RECEIVE_VALIDATE_LOGON = 'RECEIVE_VALIDATE_LOGON';\nexport const REQUEST_LOGON = 'REQUEST_LOGON';\nexport const EXECUTE_LOGON = 'EXECUTE_LOGON';\nexport const RECEIVE_LOGON = 'RECEIVE_LOGON';\nexport const UPDATE_INPUT = 'UPDATE_INPUT';\n\nexport const REQUEST_CONSENT_ALLOW = 'REQUEST_CONSENT_ALLOW';\nexport const REQUEST_CONSENT_CANCEL = 'REQUEST_CONSENT_CANCEL';\nexport const EXECUTE_CONSENT = 'EXECUTE_CONSENT';\nexport const RECEIVE_CONSENT = 'RECEIVE_CONSENT';\n\nexport const REQUEST_LOGOFF = 'REQUEST_LOGOFF';\nexport const EXECUTE_LOGOFF = 'EXECUTE_LOGOFF';\nexport const RECEIVE_LOGOFF = 'RECEIVE_LOGOFF';\n\nexport const SERVICE_WORKER_NEW_CONTENT = 'SERVICE_WORKER_NEW_CONTENT';\nexport const SERVICE_WORKER_READY = 'SERVICE_WORKER_READY';\nexport const SERVICE_WORKER_ERROR = 'SERVICE_WORKER_ERROR';\nexport const SERVICE_WORKER_OFFLINE = 'SERVICE_WORKER_OFFLINE';\n","var map = {\n\t\"./de/translation.json\": 104,\n\t\"./es/translation.json\": 105,\n\t\"./fr/translation.json\": 106,\n\t\"./it/translation.json\": 107,\n\t\"./locales.json\": 43,\n\t\"./nl/translation.json\": 108,\n\t\"./zh-CN/translation.json\": 109\n};\n\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(function(id) {\n\t\treturn __webpack_require__.t(id, 3);;\n\t});\n}\nfunction webpackAsyncContextResolve(req) {\n\treturn __webpack_require__.e(/* lazy-once context | all-i18n-data */ 1).then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = 90;\nmodule.exports = webpackAsyncContext;","import allLocales from './locales.json';\n\ninterface Locale {\n  locale: string,\n  name: string,\n  nativeName: string,\n}\n\nfunction enableLocales(locales: Locale[]): Locale[] {\n  return locales;\n}\n\nexport const locales = enableLocales(allLocales);\n\nexport default locales;\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\nimport resourcesToBackend from 'i18next-resources-to-backend';\nimport LanguageDetector, { CustomDetector } from 'i18next-browser-languagedetector';\n\nimport queryString from 'query-string';\n\nimport locales from './locales';\n\nconst config = {\n  uiLocalesQueryName: 'ui_locales', // Same as OIDC uses.\n  uiLocaleCookieName: 'ui_locale',  // For domain wide syncing, not set here.\n  uiLocaleLocalStorageName: 'lico.identifier_ui_locale', // Sufficiently unique, set here.\n}\n\nconst supportedLanguages = locales.map((locale) => {\n  return locale.locale;\n});\n\nconst queryUiLocalesDetector: CustomDetector = {\n  name: 'queryUiLocales',\n  lookup: (options): string | string[] | undefined => {\n    const query = queryString.parse(document.location.search);\n    const ui_locales = query[config.uiLocalesQueryName];\n    if (!ui_locales) {\n      return;\n    }\n    if (Array.isArray(ui_locales)) {\n      return ui_locales as string[];\n    } else {\n      return ui_locales.split(' ');\n    }\n  },\n}\n\nconst languageDetector = new LanguageDetector();\nlanguageDetector.addDetector(queryUiLocalesDetector);\n\ni18n\n  .use(resourcesToBackend((language, namespace, callback) => {\n    import(\n      /* webpackMode: \"lazy-once\" */\n      /* webpackInclude: /\\.json$/ */\n      /* webpackChunkName: \"all-i18n-data\" */\n      /* webpackPrefetch: true */\n      `./locales/${language}/${namespace}.json`\n    )\n      .then((resources) => {\n        callback(null, resources)\n      })\n      .catch((error) => {\n        callback(error, null)\n      })\n  }))\n  .use(languageDetector)\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    fallbackLng: 'en-GB',\n    supportedLngs: [...supportedLanguages],\n    cleanCode: true,\n    returnEmptyString: false,\n    debug: false,\n\n    detection: {\n      /* https://github.com/i18next/i18next-browser-languageDetector */\n      order: [queryUiLocalesDetector.name, 'cookie', 'localStorage', 'navigator'],\n      lookupCookie: config.uiLocaleCookieName,\n      lookupLocalStorage: config.uiLocaleLocalStorageName,\n      caches: ['localStorage'],\n    },\n\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n\nexport default i18n;\n","import React from 'react';\n\nimport {\n  Fade,\n  CircularProgress,\n } from '@material-ui/core';\n import { makeStyles } from '@material-ui/core/styles';\n\n const useStyles = makeStyles(() => ({\n  root: {\n    position: 'fixed',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n }));\n\nconst Spinner = () => {\n  const classes = useStyles();\n\n  return <div className={classes.root}>\n    <Fade\n      in\n      style={{\n        transitionDelay: '800ms',\n      }}\n      unmountOnExit\n    >\n      <CircularProgress size={70} thickness={1}/>\n    </Fade>\n  </div>;\n}\n\nexport default Spinner;\n","const build = process.env.REACT_APP_KOPANO_BUILD || '0.0.0-no-proper-build';\n\nexport {\n  build\n};\n","import React, { Suspense, lazy } from 'react';\n\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport { defaultTheme as theme } from 'kpop/es/theme';\n\nimport 'kpop/static/css/base.css';\nimport 'kpop/static/css/scrollbar.css';\nimport './App.css';\n\nimport Spinner from './components/Spinner';\nimport * as version from './version';\n\nconst LazyMain = lazy(() => import(/* webpackChunkName: \"identifier-main\" */ './Main'));\n\nconsole.info(`Kopano Identifier build version: ${version.build}`); // eslint-disable-line no-console\n\nconst App = () => {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <Suspense fallback={<Spinner/>}>\n        <LazyMain />\n      </Suspense>\n    </MuiThemeProvider>\n  );\n}\n\nexport default App;\n","import {\n  RECEIVE_ERROR,\n  RESET_HELLO,\n  RECEIVE_HELLO,\n  SERVICE_WORKER_NEW_CONTENT\n} from '../actions/types';\nimport queryString from 'query-string';\n\nconst query = queryString.parse(document.location.search);\nconst flow = query.flow || '';\ndelete query.flow;\n\nconst defaultPathPrefix = (() => {\n  const root = document.getElementById('root');\n  let pathPrefix = root ? root.getAttribute('data-path-prefix') : null;\n  if (!pathPrefix || pathPrefix === '__PATH_PREFIX__') {\n    // Not replaced, probably we are running in debug mode or whatever. Use sane default.\n    pathPrefix = '/signin/v1';\n  }\n  return pathPrefix;\n})();\n\nconst defaultState = {\n  hello: null,\n  branding: null,\n  error: null,\n  flow: flow,\n  query: query,\n  updateAvailable: false,\n  pathPrefix: defaultPathPrefix\n};\n\nfunction commonReducer(state = defaultState, action) {\n  switch (action.type) {\n    case RECEIVE_ERROR:\n      return Object.assign({}, state, {\n        error: action.error\n      });\n\n    case RESET_HELLO:\n      return Object.assign({}, state, {\n        hello: null,\n        branding: null\n      });\n\n    case RECEIVE_HELLO:\n      return Object.assign({}, state, {\n        hello: {\n          state: action.state,\n          username: action.username,\n          displayName: action.displayName,\n          details: action.hello\n        },\n        branding: action.hello.branding ? action.hello.branding : state.branding\n      });\n\n    case SERVICE_WORKER_NEW_CONTENT:\n      return Object.assign({}, state, {\n        updateAvailable: true\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default commonReducer;\n","import {\n  RECEIVE_VALIDATE_LOGON,\n  REQUEST_LOGON,\n  RECEIVE_LOGON,\n  RECEIVE_LOGOFF,\n  REQUEST_CONSENT_ALLOW,\n  REQUEST_CONSENT_CANCEL,\n  RECEIVE_CONSENT,\n  UPDATE_INPUT\n} from '../actions/types';\n\nfunction loginReducer(state = {\n  loading: '',\n  username: '',\n  password: '',\n  errors: {}\n}, action) {\n  switch (action.type) {\n    case RECEIVE_VALIDATE_LOGON:\n      return Object.assign({}, state, {\n        errors: action.errors,\n        loading: ''\n      });\n\n    case REQUEST_CONSENT_ALLOW:\n    case REQUEST_CONSENT_CANCEL:\n    case REQUEST_LOGON:\n      return Object.assign({}, state, {\n        loading: action.type,\n        errors: {}\n      });\n\n    case RECEIVE_CONSENT:\n    case RECEIVE_LOGON:\n      if (!action.success) {\n        return Object.assign({}, state, {\n          errors: action.errors ? action.errors : {},\n          loading: ''\n        });\n      }\n      return state;\n\n    case RECEIVE_LOGOFF:\n      return Object.assign({}, state, {\n        username: '',\n        password: ''\n      });\n\n    case UPDATE_INPUT:\n      delete state.errors[action.name];\n      return Object.assign({}, state, {\n        [action.name]: action.value\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default loginReducer;\n","import { combineReducers } from 'redux';\n\nimport commonReducer from './common';\nimport loginReducer from './login';\n\nconst rootReducer = combineReducers({\n  common: commonReducer,\n  login: loginReducer\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\n\nimport rootReducer from './reducers';\n\nconst middlewares = [\n  thunkMiddleware\n];\n\nif (process.env.NODE_ENV === 'development') { // eslint-disable-line no-undef\n  middlewares.push(createLogger()); // must be last middleware in the chain.\n}\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(\n    ...middlewares,\n  ))\n);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport './i18n';\n\nimport App from './App';\nimport store from './store';\n\nimport './app.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store as any}>\n      <App/>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}