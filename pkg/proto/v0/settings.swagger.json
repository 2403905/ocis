{
  "swagger": "2.0",
  "info": {
    "title": "Settings",
    "version": "1.0",
    "contact": {
      "name": "ownCloud GmbH",
      "url": "https://github.com/owncloud/ocis-settings",
      "email": "support@owncloud.com"
    },
    "license": {
      "name": "Apache-2.0",
      "url": "https://github.com/owncloud/ocis-settings/blob/master/LICENSE"
    }
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/api/v0/settings/bundle-get": {
      "post": {
        "operationId": "GetSettingsBundle",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/protoGetSettingsBundleResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/protoGetSettingsBundleRequest"
            }
          }
        ],
        "tags": [
          "BundleService"
        ]
      }
    },
    "/api/v0/settings/bundle-save": {
      "post": {
        "operationId": "SaveSettingsBundle",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/protoSaveSettingsBundleResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/protoSaveSettingsBundleRequest"
            }
          }
        ],
        "tags": [
          "BundleService"
        ]
      }
    },
    "/api/v0/settings/bundles-list": {
      "post": {
        "operationId": "ListSettingsBundles",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/protoListSettingsBundlesResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/protoListSettingsBundlesRequest"
            }
          }
        ],
        "tags": [
          "BundleService"
        ]
      }
    },
    "/api/v0/settings/value-get": {
      "post": {
        "operationId": "GetSettingsValue",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/protoGetSettingsValueResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/protoGetSettingsValueRequest"
            }
          }
        ],
        "tags": [
          "ValueService"
        ]
      }
    },
    "/api/v0/settings/value-save": {
      "post": {
        "operationId": "SaveSettingsValue",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/protoSaveSettingsValueResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/protoSaveSettingsValueRequest"
            }
          }
        ],
        "tags": [
          "ValueService"
        ]
      }
    },
    "/api/v0/settings/values-list": {
      "post": {
        "operationId": "ListSettingsValues",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/protoListSettingsValuesResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/protoListSettingsValuesRequest"
            }
          }
        ],
        "tags": [
          "ValueService"
        ]
      }
    }
  },
  "definitions": {
    "protoBoolSetting": {
      "type": "object",
      "properties": {
        "default": {
          "type": "boolean",
          "format": "boolean"
        },
        "label": {
          "type": "string"
        }
      }
    },
    "protoGetSettingsBundleRequest": {
      "type": "object",
      "properties": {
        "identifier": {
          "$ref": "#/definitions/protoIdentifier"
        }
      }
    },
    "protoGetSettingsBundleResponse": {
      "type": "object",
      "properties": {
        "settings_bundle": {
          "$ref": "#/definitions/protoSettingsBundle"
        }
      }
    },
    "protoGetSettingsValueRequest": {
      "type": "object",
      "properties": {
        "identifier": {
          "$ref": "#/definitions/protoIdentifier"
        }
      }
    },
    "protoGetSettingsValueResponse": {
      "type": "object",
      "properties": {
        "settings_value": {
          "$ref": "#/definitions/protoSettingsValue"
        }
      }
    },
    "protoIdentifier": {
      "type": "object",
      "properties": {
        "extension": {
          "type": "string"
        },
        "bundle_key": {
          "type": "string"
        },
        "setting_key": {
          "type": "string"
        },
        "account_uuid": {
          "type": "string"
        }
      },
      "title": "generic payloads"
    },
    "protoIntSetting": {
      "type": "object",
      "properties": {
        "default": {
          "type": "string",
          "format": "int64"
        },
        "min": {
          "type": "string",
          "format": "int64"
        },
        "max": {
          "type": "string",
          "format": "int64"
        },
        "step": {
          "type": "string",
          "format": "int64"
        },
        "placeholder": {
          "type": "string"
        }
      }
    },
    "protoListOption": {
      "type": "object",
      "properties": {
        "value": {
          "$ref": "#/definitions/protoListOptionValue"
        },
        "default": {
          "type": "boolean",
          "format": "boolean"
        },
        "display_value": {
          "type": "string"
        }
      }
    },
    "protoListOptionValue": {
      "type": "object",
      "properties": {
        "string_value": {
          "type": "string"
        },
        "int_value": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "protoListSettingsBundlesRequest": {
      "type": "object",
      "properties": {
        "identifier": {
          "$ref": "#/definitions/protoIdentifier"
        }
      }
    },
    "protoListSettingsBundlesResponse": {
      "type": "object",
      "properties": {
        "settings_bundles": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protoSettingsBundle"
          }
        }
      }
    },
    "protoListSettingsValuesRequest": {
      "type": "object",
      "properties": {
        "identifier": {
          "$ref": "#/definitions/protoIdentifier"
        }
      }
    },
    "protoListSettingsValuesResponse": {
      "type": "object",
      "properties": {
        "settings_values": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protoSettingsValue"
          }
        }
      }
    },
    "protoListValue": {
      "type": "object",
      "properties": {
        "values": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protoListOptionValue"
          }
        }
      }
    },
    "protoMultiChoiceListSetting": {
      "type": "object",
      "properties": {
        "options": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protoListOption"
          }
        }
      }
    },
    "protoSaveSettingsBundleRequest": {
      "type": "object",
      "properties": {
        "settings_bundle": {
          "$ref": "#/definitions/protoSettingsBundle"
        }
      },
      "title": "requests and responses for settings bundles"
    },
    "protoSaveSettingsBundleResponse": {
      "type": "object",
      "properties": {
        "settings_bundle": {
          "$ref": "#/definitions/protoSettingsBundle"
        }
      }
    },
    "protoSaveSettingsValueRequest": {
      "type": "object",
      "properties": {
        "settings_value": {
          "$ref": "#/definitions/protoSettingsValue"
        }
      },
      "title": "requests and responses for settings values"
    },
    "protoSaveSettingsValueResponse": {
      "type": "object",
      "properties": {
        "settings_value": {
          "$ref": "#/definitions/protoSettingsValue"
        }
      }
    },
    "protoSetting": {
      "type": "object",
      "properties": {
        "setting_key": {
          "type": "string"
        },
        "display_name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "int_value": {
          "$ref": "#/definitions/protoIntSetting"
        },
        "string_value": {
          "$ref": "#/definitions/protoStringSetting"
        },
        "bool_value": {
          "$ref": "#/definitions/protoBoolSetting"
        },
        "single_choice_value": {
          "$ref": "#/definitions/protoSingleChoiceListSetting"
        },
        "multi_choice_value": {
          "$ref": "#/definitions/protoMultiChoiceListSetting"
        }
      }
    },
    "protoSettingsBundle": {
      "type": "object",
      "properties": {
        "identifier": {
          "$ref": "#/definitions/protoIdentifier"
        },
        "display_name": {
          "type": "string"
        },
        "settings": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protoSetting"
          }
        }
      },
      "title": "payloads for settings bundles"
    },
    "protoSettingsValue": {
      "type": "object",
      "properties": {
        "identifier": {
          "$ref": "#/definitions/protoIdentifier"
        },
        "bool_value": {
          "type": "boolean",
          "format": "boolean"
        },
        "int_value": {
          "type": "string",
          "format": "int64"
        },
        "string_value": {
          "type": "string"
        },
        "list_value": {
          "$ref": "#/definitions/protoListValue"
        }
      },
      "title": "payloads for settings values"
    },
    "protoSingleChoiceListSetting": {
      "type": "object",
      "properties": {
        "options": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protoListOption"
          }
        }
      }
    },
    "protoStringSetting": {
      "type": "object",
      "properties": {
        "default": {
          "type": "string"
        },
        "required": {
          "type": "boolean",
          "format": "boolean"
        },
        "min_length": {
          "type": "integer",
          "format": "int32"
        },
        "max_length": {
          "type": "integer",
          "format": "int32"
        },
        "placeholder": {
          "type": "string"
        }
      }
    }
  },
  "externalDocs": {
    "description": "Developer Manual",
    "url": "http://owncloud.github.io/extensions/ocis_settings/"
  }
}
